head	1.60;
access;
symbols;
locks;
comment	@.\" @;


1.60
date	2022.02.20.02.25.14;	author -;	state -;
branches;
next	1.59;

1.59
date	2022.02.20.02.24.46;	author -;	state -;
branches;
next	1.58;

1.58
date	2022.02.20.02.20.33;	author -;	state -;
branches;
next	1.57;

1.57
date	2022.02.20.02.20.12;	author -;	state -;
branches;
next	1.56;

1.56
date	2022.02.20.02.18.33;	author -;	state -;
branches;
next	1.55;

1.55
date	2022.02.20.02.16.35;	author -;	state -;
branches;
next	1.54;

1.54
date	2022.02.20.02.16.08;	author -;	state -;
branches;
next	1.53;

1.53
date	2022.02.19.22.30.22;	author -;	state -;
branches;
next	1.52;

1.52
date	2022.02.19.22.29.45;	author -;	state -;
branches;
next	1.51;

1.51
date	2022.02.19.22.29.06;	author -;	state -;
branches;
next	1.50;

1.50
date	2022.02.19.22.28.44;	author -;	state -;
branches;
next	1.49;

1.49
date	2022.02.19.22.28.12;	author -;	state -;
branches;
next	1.48;

1.48
date	2022.02.19.22.27.39;	author -;	state -;
branches;
next	1.47;

1.47
date	2022.02.19.22.22.52;	author -;	state -;
branches;
next	1.46;

1.46
date	2022.02.19.21.56.48;	author -;	state -;
branches;
next	1.45;

1.45
date	2022.02.19.21.56.07;	author -;	state -;
branches;
next	1.44;

1.44
date	2022.02.19.21.55.44;	author -;	state -;
branches;
next	1.43;

1.43
date	2022.02.19.21.55.21;	author -;	state -;
branches;
next	1.42;

1.42
date	2022.02.19.21.54.48;	author -;	state -;
branches;
next	1.41;

1.41
date	2022.02.19.21.50.45;	author -;	state -;
branches;
next	1.40;

1.40
date	2022.02.19.21.41.00;	author -;	state -;
branches;
next	1.39;

1.39
date	2022.02.19.21.38.12;	author -;	state -;
branches;
next	1.38;

1.38
date	2022.02.19.07.11.29;	author -;	state -;
branches;
next	1.37;

1.37
date	2022.02.19.07.10.56;	author -;	state -;
branches;
next	1.36;

1.36
date	2022.02.18.07.23.47;	author -;	state -;
branches;
next	1.35;

1.35
date	2022.02.18.07.22.16;	author -;	state -;
branches;
next	1.34;

1.34
date	2022.02.18.07.16.14;	author -;	state -;
branches;
next	1.33;

1.33
date	2022.02.18.07.04.55;	author -;	state -;
branches;
next	1.32;

1.32
date	2022.02.18.07.04.15;	author -;	state -;
branches;
next	1.31;

1.31
date	2022.02.18.07.03.48;	author -;	state -;
branches;
next	1.30;

1.30
date	2022.02.18.07.03.30;	author -;	state -;
branches;
next	1.29;

1.29
date	2022.02.18.07.03.09;	author -;	state -;
branches;
next	1.28;

1.28
date	2022.02.18.07.02.16;	author -;	state -;
branches;
next	1.27;

1.27
date	2022.02.18.07.01.43;	author -;	state -;
branches;
next	1.26;

1.26
date	2022.02.18.07.01.07;	author -;	state -;
branches;
next	1.25;

1.25
date	2022.02.18.07.00.19;	author -;	state -;
branches;
next	1.24;

1.24
date	2022.02.18.06.56.14;	author -;	state -;
branches;
next	1.23;

1.23
date	2022.02.18.06.53.27;	author -;	state -;
branches;
next	1.22;

1.22
date	2022.02.18.06.51.24;	author -;	state -;
branches;
next	1.21;

1.21
date	2022.02.18.02.52.13;	author -;	state -;
branches;
next	1.20;

1.20
date	2022.02.18.02.51.55;	author -;	state -;
branches;
next	1.19;

1.19
date	2022.02.18.02.51.38;	author -;	state -;
branches;
next	1.18;

1.18
date	2022.02.18.02.50.43;	author -;	state -;
branches;
next	1.17;

1.17
date	2022.02.18.02.50.00;	author -;	state -;
branches;
next	1.16;

1.16
date	2022.02.18.02.49.41;	author -;	state -;
branches;
next	1.15;

1.15
date	2022.02.18.02.49.04;	author -;	state -;
branches;
next	1.14;

1.14
date	2022.02.18.02.48.02;	author -;	state -;
branches;
next	1.13;

1.13
date	2022.02.18.02.47.32;	author -;	state -;
branches;
next	1.12;

1.12
date	2022.02.18.02.39.37;	author -;	state -;
branches;
next	1.11;

1.11
date	2022.02.18.02.30.02;	author -;	state -;
branches;
next	1.10;

1.10
date	2022.02.18.01.40.05;	author -;	state -;
branches;
next	1.9;

1.9
date	2022.02.18.01.36.00;	author -;	state -;
branches;
next	1.8;

1.8
date	2022.02.18.01.34.58;	author -;	state -;
branches;
next	1.7;

1.7
date	2022.02.18.01.34.40;	author -;	state -;
branches;
next	1.6;

1.6
date	2022.02.18.01.30.28;	author -;	state -;
branches;
next	1.5;

1.5
date	2022.02.18.01.29.58;	author -;	state -;
branches;
next	1.4;

1.4
date	2022.02.18.01.00.24;	author -;	state -;
branches;
next	1.3;

1.3
date	2022.02.18.00.58.30;	author -;	state -;
branches;
next	1.2;

1.2
date	2022.02.18.00.57.09;	author -;	state -;
branches;
next	1.1;

1.1
date	2022.02.18.00.49.46;	author -;	state -;
branches;
next	;


desc
@@


1.60
log
@-
@
text
@.so Tmac.mm-etc
.if t .Newcentury-fonts
.INITR* \n[.F]
.SIZE 12 14
.TITLE "Client/server \[em] starter code description"
.RCS "$Id: asg4-cxi-cxid-code.mm,v 1.59 2022-02-19 18:24:46-08 - - $"
.PWD
.URL
.EQ
delim $$
.EN
.hw ac-cu-mu-la-ted
.de V=br
.   V= \\$@@
.   br
..
.de ALPHAS
.   ALX a ()
..
.de BULLETS
.   ALX \[bu] 0 4 0 0
..
.de COMMAND
.   LI "\f[CB]\\$[1]\0\f[I]\\$[2]\f[R]" \\$[3]
..  
.de MESSAGE
.   LI "\f[CB]\\$[1]\0\f[R]\\$[2]" \\$[3]
..
.de MODULE
.   LI "\f[CB]\\$[1]\f[P]"
..
Some code has been provided in several modules.
.H 1 "\f[CB]debug.{h,cpp}\fP"
As in previous assignments.
.H 1 "\f[CB]logstream.h\fP
Is a wrapper for an
.V= ostream
that can be used to print debugging information,
but prefixes each output line with the execname and the process id.
Since all code is in the header file, a
.V= cpp
files is not needed.
.P
Usage\(::
Declare a variable such as
.V= "logstream outlog (cout);".
.br
Then use it in the same way as 
.V= cout \(::
.VTCODE* 1 "outlog << \fP.....\f[CB] << endl;"
The execname and process id (pid)
via
.V= getpid (2)
is printed followed by whatever else is to be printed,
represented by the \&.....\& above.
.P
The operator
.VTCODE* 1 "template <typename T>"
.VTCODE* 1 "ostream& operator<< (const T& obj)"
is a template so that its right operand can be of any type that
.V= ostreeam::operator<<
can accept as a right operand.
.P
The field
.VTCODE* 1 "ostream& out_;"
is a reference, not a value because objects of type
.V= ostream
can not be copied.
Note also that the ctor initializes it by using a field intializer.
It can not be initialized by
.V= operator=
inside the body of the ctor.
.bp
.H 1 "\f[CB]protocol.{h,cpp}"\fP
Implements the protocol that interacts between client and server.
The
.V= cxi_header
is precisely defined,
along with the enum class
.V= cxi_commands
to be used in communication.
.ALPHAS
.LI
.V=br static_assert
verifies the exact size of the header,
and
.V= uint32_t
specifies that the count field is exactly 32 bits.
This limits packet size to 4,294,967,296 bytes,
but that is more than large enough for a student project.
.P
.V= static_assert
is determined at compile time and causes the compilation to be
rejected if its argument is false.
An
.V= assert ,
on the other hand,
is a macro whose argument is tested at runtime.
.LI
.V=br send_packet
expects a socket and a buffer and loops using the socket's send
until the entire message is sent.
.LI
.V=br recv_packet
uses socket's recv and receive a message.
It is expected that the buffer thus passed in is large enough
to accept the message.
.LI
.V=br operator<<
is for debug printing the header and checking for network or
host byte order errors in the header.
.LE
.P
.E= Warning\(::
Some strange errors will occur that will possibly lead to deadlock
between the client and the server,
or other strange occurrences,
if you forget to use
.V= ntohl
and
.V= htonl
when communicating between the client and the server.
.bp
.H 1 "\f[CB]socket.{h,cpp}\fP \[em] \f[CB]base_socket\fP"
Is a wrapper around the more cumbersome standard C interface to
sockets.
It wraps a socket file descriptor.
.V= base_socket
defines all of the communication functions.
No inheritance is used,
but it is convenient to separate the user interfaces into
separate purposes.
.P
Most of its functions are
.V= protected
and may only be used by the
subclasses.
Since the ctor and dtor are protected,
users are prohibited from declaring a
.V= base_socket .
Program code in the client, daemon, and server only declare
objects of the subclasses.
.P
.ne 10
The field values are\(::
.ALPHAS
.LI
.V=br "int socket_fd"
file descriptor (small integer) returned by the
.V= socket
system call.
.LI
.V=br sockaddr_in
containing the connection information for communication.
Its fields are\(::
.BULLETS
.LI
.V= "sa_family_t sin_family" \(::
address family\(::
.V= AF_INET 
.LI
.V= "in_port_t sin_port" \(::
net byte order
.V= uint16_t 
port number
.LI
.V= "struct in_addr sin_addr" \(::
net byte order
.V= uint32_t 
internet address
.LE
.LE
.P
Since these have access to operating system facilities,
the copiers and movers have been declared as
.V= =delete .
.P
The following functions are inherited by the derived classes
and may be used by them.
As memtioned previously,
the user may not instantiate this class directly.
The available functions are\(::
.ALPHAS
.LI
.V=br "void close();"
Close the socket.
The destructor automatically closes a socket,
sot this may be little redundant.
.LI
.V=br "ssize_t send (const void* buffer, size_t bufsize);"
Send a message to the socket, returning the number of bytes
actually sent.
.LI
.V=br "ssize_t recv (void* buffer, size_t bufsize);"
Receive a message from a buffer of the given size,
reporting the number of bytes actually received.
.LI
.V=br "friend string to_string (const base_socket& sock);"
A debugging format function.
.LE
.bp
.H 1 "\f[CB]socket.{h,cpp}\fP \[em] user interface"
The user interface functions specialize the uses of a base socket
for particular purposes.
Only the constructors differ in the way the socket is created.
Usage for all of the is by send and receive.
.ALPHAS
.LI
.V=br server_socket
is used by the daemon,
and perhaps should have been named the daemon socket instead.
.BULLETS
.LI
Create a socket for communication on a specific server port.
.LI
Bind the socket to the specific part.
.LI
Listen for a connection request from a client,
which is then accepted.
.LE
.LI
.V= accepted_socket
.BULLETS
.LI
Created by a server accepting a call from a client
and used by the server sub-process to communicate with a client.
.LE
.LI
.V=br client_socket
is used by a client in an attempt to connect to a server.
.BULLETS
.LI
Creates a socket to request the connection.
.LI
Attempts to connect to a server,
given a particular host and port.
.LE
.LE
.bp
.H 1 "\f[CB]cxi.cpp"\fP
is the client code.
It reads commands from the input and interprets each command
as needed by sending a packet to the server.
It has the client's main loop
and calls a separate function for each of the client commands.
.ALPHAS
.LI
.V=br cxi_ls
example function which shows to the client interacts with the server.
Implements the
.V= ls
command.
.LI
.V=br make_unique
The statement
.VTCODE* 1 "auto buffer = make_unique<char[]> (host_nbytes + 1);"
creates a
.V= unique_ptr
pointing to a buffer of the appropriate size.
This buffer is automatically freed when the pointer goes out of scope.
The size of the buffer is known in advance,
having been received in the header.
In the case of loading a file,
the
.V= stat (2)
system call can determine the size of a file.
.LI
.V=br stat (2)
.VTCODE* 1 "struct stat stat_buf;"
.VTCODE* 1 "int status = stat (filename, &stat_buf);"
will enquire as the the status of the given filename.
If the result is 0, then
.V= stat_buf.st_size
contains the number of bytes in the file.
Note that
.V= filename
is a 
.V= "const char*" ,
not a
.V= string .
.LI
If a system call fails, an error is reported to the standard error
in the usual manner, and the exit status for the program is set to
.V= EXIT_FAILURE .
.br
.IR "execname: filename: reason"
.BULLETS
.LI
.IR execname
is always the
.V= basename (3)
of the program being run (derived from
.V= argv[0] ).
.LI
.IR filename
is the name of the file or other object that could not be accessed.
.LI
.IR reason
is the explanation of the problem from
.V= strerror(errno).
.LE
.LE
.bp
.H 1 "\f[CB]cxid.cpp\fP \[em] daemon"
Is both the daemon and server code in one program,
but multiple processes.
The daemon creates a
.V= server_socket
which is used to listen for a client connection.
When a client connects, 
.V= fork (2)
is used to create a child process to execute the server code.
It also reaps zombie processes which are servers from which
a client has disconnected.
There is a separate server process for each client that connects.
.ALPHAS
.LI
.V=br main
The main function sets up a signal action and a server socket
to listen for a client.
Whenever a client connects, it forks a child process to preform
the server task.
It is an infinite loop and will run until killed at the terminal.
.LI
.V=br reap_zombies
when a child process exits,
it becomes a zombie until the parent waits for it or until the
parent exits.
But the daemon is in an infinite loop,
so it uses
.V= waitpid (2)
to report the status of the child process,
thus removing the child server from the process table.
.LI
.V=br fork_cxiserver
Use
.V= fork (2)
to run the server.
It must close the unused sockets
(the server in the child and the accepted socket in the parent).
.LE
.H 1 "\f[CB]cxid.cpp\fP \[em] server"
contains the run_server process, which loops reading commands
from the client,
acting on those commands,
then sending back a reply.
It runs in an infinite loop,
exiting only when the client disconnects.
.ALPHAS
.LI
.V=br run_server
is the child process that waits for a command from the client
and then replies as appropriate.
It continues until the client disconnects,
at which time the server exits.
.LI
.V=br reply_ls
is an example of how to reply to a client.
It uses
.V= popen (3)
to create a pipe to
.V= ls (1)
to list the files in the server's directory.
Then it sends the information to the client.
.LE
@


1.59
log
@-
@
text
@d6 1
a6 1
.RCS "$Id: asg4-cxi-cxid-code.mm,v 1.58 2022-02-19 18:20:33-08 - - $"
d112 1
a122 1
.LE
@


1.58
log
@-
@
text
@d6 1
a6 1
.RCS "$Id: asg4-cxi-cxid-code.mm,v 1.57 2022-02-19 18:20:12-08 - - $"
d112 10
@


1.57
log
@-
@
text
@d6 1
a6 1
.RCS "$Id: asg4-cxi-cxid-code.mm,v 1.56 2022-02-19 18:18:33-08 - - $"
d73 1
@


1.56
log
@-
@
text
@d6 1
a6 1
.RCS "$Id: asg4-cxi-cxid-code.mm,v 1.55 2022-02-19 18:16:35-08 - - $"
d90 8
@


1.55
log
@-
@
text
@d6 1
a6 1
.RCS "$Id: asg4-cxi-cxid-code.mm,v 1.54 2022-02-19 18:16:08-08 - - $"
d56 7
@


1.54
log
@-
@
text
@d6 1
a6 1
.RCS "$Id: asg4-cxi-cxid-code.mm,v 1.53 2022-02-19 14:30:22-08 - - $"
d57 2
a58 2
THe field
.V= "ostream& out_"
@


1.53
log
@-
@
text
@d6 1
a6 1
.RCS "$Id: asg4-cxi-cxid-code.mm,v 1.52 2022-02-19 14:29:45-08 - - $"
d56 10
@


1.52
log
@-
@
text
@d6 1
a6 1
.RCS "$Id: asg4-cxi-cxid-code.mm,v 1.51 2022-02-19 14:29:06-08 - - $"
d247 2
a248 1
in the usual manner\(::
@


1.51
log
@-
@
text
@d6 1
a6 1
.RCS "$Id: asg4-cxi-cxid-code.mm,v 1.50 2022-02-19 14:28:44-08 - - $"
d246 2
a247 1
If a system call fails, an error is reported in the usual manner\(::
@


1.50
log
@-
@
text
@d6 1
a6 1
.RCS "$Id: asg4-cxi-cxid-code.mm,v 1.49 2022-02-19 14:28:12-08 - - $"
d247 1
@


1.49
log
@-
@
text
@d6 1
a6 1
.RCS "$Id: asg4-cxi-cxid-code.mm,v 1.48 2022-02-19 14:27:39-08 - - $"
d247 1
a247 1
.VICODE* 1 "" "execname: filename: reason"
@


1.48
log
@-
@
text
@d6 1
a6 1
.RCS "$Id: asg4-cxi-cxid-code.mm,v 1.47 2022-02-19 14:22:52-08 - - $"
d247 1
a247 1
.VTCODE* 1 "" "execname: filename: reason"
d258 1
@


1.47
log
@-
@
text
@d6 1
a6 1
.RCS "$Id: asg4-cxi-cxid-code.mm,v 1.46 2022-02-19 13:56:48-08 - - $"
a238 1
If non-zero, there is an error to be reported in the usual manner.
d245 17
@


1.46
log
@-
@
text
@d6 1
a6 1
.RCS "$Id: asg4-cxi-cxid-code.mm,v 1.45 2022-02-19 13:56:07-08 - - $"
d278 1
@


1.45
log
@-
@
text
@d6 1
a6 1
.RCS "$Id: asg4-cxi-cxid-code.mm,v 1.44 2022-02-19 13:55:44-08 - - $"
d293 1
d299 1
@


1.44
log
@-
@
text
@d6 1
a6 1
.RCS "$Id: asg4-cxi-cxid-code.mm,v 1.43 2022-02-19 13:55:21-08 - - $"
d203 1
d247 1
@


1.43
log
@-
@
text
@d6 1
a6 1
.RCS "$Id: asg4-cxi-cxid-code.mm,v 1.42 2022-02-19 13:54:48-08 - - $"
d165 1
@


1.42
log
@-
@
text
@d6 1
a6 1
.RCS "$Id: asg4-cxi-cxid-code.mm,v 1.41 2022-02-19 13:50:45-08 - - $"
d87 1
@


1.41
log
@-
@
text
@d6 1
a6 1
.RCS "$Id: asg4-cxi-cxid-code.mm,v 1.40 2022-02-19 13:41:00-08 - - $"
d66 1
a66 2
The
.V= static_assert
d74 1
a74 1
.V= send_packet
d78 1
a78 1
.V= recv_packet
d82 4
@


1.40
log
@-
@
text
@d6 1
a6 1
.RCS "$Id: asg4-cxi-cxid-code.mm,v 1.39 2022-02-19 13:38:12-08 - - $"
d253 25
d285 15
@


1.39
log
@-
@
text
@d6 1
a6 1
.RCS "$Id: asg4-cxi-cxid-code.mm,v 1.38 2022-02-18 23:11:29-08 - - $"
d233 7
a239 1
If non-zero, there is an error.
@


1.38
log
@-
@
text
@d6 1
a6 1
.RCS "$Id: asg4-cxi-cxid-code.mm,v 1.37 2022-02-18 23:10:56-08 - - $"
d220 14
a233 1
having received the header.
@


1.37
log
@-
@
text
@d6 1
a6 1
.RCS "$Id: asg4-cxi-cxid-code.mm,v 1.36 2022-02-17 23:23:47-08 - - $"
d208 3
@


1.36
log
@-
@
text
@d6 1
a6 1
.RCS "$Id: asg4-cxi-cxid-code.mm,v 1.35 2022-02-17 23:22:16-08 - - $"
d204 15
@


1.35
log
@-
@
text
@d6 1
a6 1
.RCS "$Id: asg4-cxi-cxid-code.mm,v 1.34 2022-02-17 23:16:14-08 - - $"
d168 1
a168 1
.V= server_socket
d188 9
a196 1
.V= client_socket
@


1.34
log
@-
@
text
@d6 1
a6 1
.RCS "$Id: asg4-cxi-cxid-code.mm,v 1.33 2022-02-17 23:04:55-08 - - $"
d162 4
d169 11
a179 4
is used by the daemon.
It creates a socket,
binds it to a particular port,
and then listens for a client to connect.
d182 5
a186 4
is created by the daemon and used by the child server process.
It just contains the communication socket fd and
socket address,
and is passed to the server.
a188 2
is used by the client.
It creates a socket and then connects to a server.
@


1.33
log
@-
@
text
@d5 2
a6 2
.TITLE "Starter code overview"
.RCS "$Id: asg4-cxi-cxid-code.mm,v 1.32 2022-02-17 23:04:15-08 - - $"
@


1.32
log
@-
@
text
@d6 1
a6 1
.RCS "$Id: asg4-cxi-cxid-code.mm,v 1.31 2022-02-17 23:03:48-08 - - $"
d120 1
a120 1
.V= AF_INET .
d123 1
d125 1
a125 1
port number, net byte order
d128 1
d130 1
a130 1
internet address, net byte order
@


1.31
log
@-
@
text
@d6 1
a6 1
.RCS "$Id: asg4-cxi-cxid-code.mm,v 1.30 2022-02-17 23:03:30-08 - - $"
d124 1
a124 1
port number, network byte order
d128 1
a128 1
internet address, network byte order
@


1.30
log
@-
@
text
@d6 1
a6 1
.RCS "$Id: asg4-cxi-cxid-code.mm,v 1.29 2022-02-17 23:03:09-08 - - $"
d122 1
a122 1
.V= "in_port_t sin-port" \(::
@


1.29
log
@-
@
text
@d6 1
a6 1
.RCS "$Id: asg4-cxi-cxid-code.mm,v 1.28 2022-02-17 23:02:16-08 - - $"
d123 1
a123 1
.V= uint16_t ,
d127 1
a127 1
.V= uint32_t ,
@


1.28
log
@-
@
text
@d6 1
a6 1
.RCS "$Id: asg4-cxi-cxid-code.mm,v 1.27 2022-02-17 23:01:43-08 - - $"
d123 1
a124 1
.=V ( uint16_t ).
d127 1
a128 1
.=V ( uint32_t ).
@


1.27
log
@-
@
text
@d6 1
a6 1
.RCS "$Id: asg4-cxi-cxid-code.mm,v 1.26 2022-02-17 23:01:07-08 - - $"
d123 1
a123 1
port number in network byte order
d127 1
a127 1
internet address in network byte order
@


1.26
log
@-
@
text
@d6 1
a6 1
.RCS "$Id: asg4-cxi-cxid-code.mm,v 1.25 2022-02-17 23:00:19-08 - - $"
d124 1
a124 2
(a
.V= uint16_t ).
d128 1
a128 2
(a
.V= uint32_t ).
@


1.25
log
@-
@
text
@d6 1
a6 1
.RCS "$Id: asg4-cxi-cxid-code.mm,v 1.24 2022-02-17 22:56:14-08 - - $"
d118 2
a119 2
.V=br "sa_family_t sin_family"
ddress family\(::
d122 1
a122 1
.V=br "in_port_t sin-port"
d127 1
a127 1
.V=br "struct in_addr sin_addr"
@


1.24
log
@-
@
text
@d6 1
a6 1
.RCS "$Id: asg4-cxi-cxid-code.mm,v 1.23 2022-02-17 22:53:27-08 - - $"
d108 1
a108 2
.V= "int socket_fd"
.br
d113 1
a113 2
.V= sockaddr_in
.br
d118 2
a119 2
.V= "sa_family_t sin_family"
\[em] address family\(::
d122 9
a130 9
.V= "in_port_t sin-port"
\[em] port number in network byte order.
.LI
.V= "struct in_addr sin_addr"
\[em] internet address in network byte order
.br
(actually a
.V= uint32_t
value).
@


1.23
log
@-
@
text
@d6 1
a6 1
.RCS "$Id: asg4-cxi-cxid-code.mm,v 1.22 2022-02-17 22:51:24-08 - - $"
d140 4
d148 4
d153 3
d157 3
d161 1
@


1.22
log
@-
@
text
@d6 1
a6 1
.RCS "$Id: asg4-cxi-cxid-code.mm,v 1.21 2022-02-17 18:52:13-08 - - $"
d13 4
@


1.21
log
@-
@
text
@d6 1
a6 1
.RCS "$Id: asg4-cxi-cxid-code.mm,v 1.20 2022-02-17 18:51:55-08 - - $"
d135 9
@


1.20
log
@-
@
text
@d6 1
a6 1
.RCS "$Id: asg4-cxi-cxid-code.mm,v 1.19 2022-02-17 18:51:38-08 - - $"
d133 2
a134 2
the copiers and movers have been
.V= =delete d.
@


1.19
log
@-
@
text
@d6 1
a6 1
.RCS "$Id: asg4-cxi-cxid-code.mm,v 1.18 2022-02-17 18:50:43-08 - - $"
d131 1
@


1.18
log
@-
@
text
@d6 1
a6 1
.RCS "$Id: asg4-cxi-cxid-code.mm,v 1.17 2022-02-17 18:50:00-08 - - $"
d100 1
@


1.17
log
@-
@
text
@d6 1
a6 1
.RCS "$Id: asg4-cxi-cxid-code.mm,v 1.16 2022-02-17 18:49:41-08 - - $"
d153 1
a153 1
is the client codd.
@


1.16
log
@-
@
text
@d6 1
a6 1
.RCS "$Id: asg4-cxi-cxid-code.mm,v 1.15 2022-02-17 18:49:04-08 - - $"
d117 1
a117 1
AF_INET .
d124 1
@


1.15
log
@-
@
text
@d6 1
a6 1
.RCS "$Id: asg4-cxi-cxid-code.mm,v 1.14 2022-02-17 18:48:02-08 - - $"
d104 2
a105 1
\[em] file descriptor (small integer) returned by the
d110 2
a111 1
\[em] containing the connection information for communication.
@


1.14
log
@-
@
text
@d6 1
a6 1
.RCS "$Id: asg4-cxi-cxid-code.mm,v 1.13 2022-02-17 18:47:32-08 - - $"
d101 1
a101 1
.BULLETS
d103 1
a103 1
.V= int socket_fd
@


1.13
log
@-
@
text
@d6 1
a6 1
.RCS "$Id: asg4-cxi-cxid-code.mm,v 1.12 2022-02-17 18:39:37-08 - - $"
d15 3
@


1.12
log
@-
@
text
@d6 1
a6 1
.RCS "$Id: asg4-cxi-cxid-code.mm,v 1.11 2022-02-17 18:30:02-08 - - $"
d96 31
@


1.11
log
@-
@
text
@d6 1
a6 1
.RCS "$Id: asg4-cxi-cxid-code.mm,v 1.10 2022-02-17 17:40:05-08 - - $"
d87 3
a89 1
Most of its functions are protected and may only be used by the
d91 3
a95 12
.P
It exports
.V= send
and
.V= recv
to communicate via the socket.
It contains the file descriptor and socket address information
inherited by the other worker classes.
It contains the file descriptor and socket address information
inherited by the other worker classes.
It contains the file descriptor and socket address information
inherited by the other worker classes.
@


1.10
log
@-
@
text
@d6 1
a6 1
.RCS "$Id: asg4-cxi-cxid-code.mm,v 1.9 2022-02-17 17:36:00-08 - - $"
d77 1
a77 1
.H 1 "\f[CB]socket.{h,cpp}"\fP
a80 2
.ALPHAS
.LI
d103 2
@


1.9
log
@-
@
text
@d6 1
a6 1
.RCS "$Id: asg4-cxi-cxid-code.mm,v 1.8 2022-02-17 17:34:58-08 - - $"
d13 3
d57 2
a58 1
.P
d67 1
a67 1
.P
d71 1
a71 1
.P
d76 1
d81 1
a81 1
.ALX a ()
@


1.8
log
@-
@
text
@d6 1
a6 1
.RCS "$Id: asg4-cxi-cxid-code.mm,v 1.7 2022-02-17 17:34:40-08 - - $"
d61 2
@


1.7
log
@-
@
text
@d6 1
a6 1
.RCS "$Id: asg4-cxi-cxid-code.mm,v 1.6 2022-02-17 17:30:28-08 - - $"
d56 2
a57 1
.V= static_assert verifies the exact size of the header,
@


1.6
log
@-
@
text
@d6 1
a6 1
.RCS "$Id: asg4-cxi-cxid-code.mm,v 1.5 2022-02-17 17:29:58-08 - - $"
d51 1
a51 1
along with the
d54 7
a60 1
It also  has
d62 3
a64 1
and
d66 3
a68 1
whose implementations loop using the lower level socket interface.
@


1.5
log
@-
@
text
@d6 1
a6 1
.RCS "$Id: asg4-cxi-cxid-code.mm,v 1.4 2022-02-17 17:00:24-08 - - $"
d40 1
a40 1
.VTCODE* 1 "outlot << ..... << endl;"
@


1.4
log
@-
@
text
@d6 1
a6 1
.RCS "$Id: asg4-cxi-cxid-code.mm,v 1.3 2022-02-17 16:58:30-08 - - $"
d33 13
@


1.3
log
@-
@
text
@d6 1
a6 1
.RCS "$Id: asg4-cxi-cxid-code.mm,v 1.2 2022-02-17 16:57:09-08 - - $"
d57 5
@


1.2
log
@-
@
text
@d6 1
a6 1
.RCS "$Id: asg4-cxi-cxid-code.mm,v 1.1 2022-02-17 16:49:46-08 - - $"
d23 1
a23 1
.H 1 "debug.{h,cpp}
d25 1
a25 1
.H 1 "logstream.h"
d33 1
a33 1
.H 1 "protocol.{h,cpp}"
d46 1
a46 1
.H 1 "socket.{h,cpp}"
d86 1
a86 1
.H 1 "cxi.cpp"
d92 1
a92 1
.H 1 "cxid.cpp \[em] daemon"
d104 1
a104 1
.H 1 "cxid.cpp \[em] server"
@


1.1
log
@-
@
text
@d6 1
a6 1
.RCS "$Id: asg4-client-server.mm,v 1.37 2022-02-17 16:37:24-08 - - $"
d63 6
d85 26
@
